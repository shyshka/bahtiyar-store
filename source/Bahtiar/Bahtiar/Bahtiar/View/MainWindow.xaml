<Window x:Class="Bahtiar.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewModel="clr-namespace:Bahtiar.ViewModel"
        xmlns:model="clr-namespace:Bahtiar.Model"
        Title="MainWindow" 
        Height="350" 
        Width="525"
        Loaded="MainWindow_OnLoaded">
    <Window.DataContext>
        <viewModel:BahtiarViewModel x:Name="BahtiarViewModel"/>
    </Window.DataContext>
    <Window.Resources>
        <DataTemplate x:Key="ListBoxItemTemplate" DataType="model:NamedItemBase">
            <StackPanel>
                <TextBlock Foreground="DarkGray" Text="{Binding Id}"/>
                <TextBlock Text="{Binding Name}" FontSize="16"/>
            </StackPanel>
        </DataTemplate>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <StackPanel Orientation="Horizontal">
            <Button Content="Refresh" Command="{Binding RefreshCommmand}"/>
        </StackPanel>
        <ListBox Grid.Column="0" 
                 Grid.Row="1" 
                 ItemsSource="{Binding Categories}" 
                 SelectedItem="{Binding CurrentCategory}"
                 ItemTemplate="{StaticResource ListBoxItemTemplate}"/>
        
        <ListBox Grid.Column="1" 
                 Grid.Row="1"
                 ItemsSource="{Binding CurrentCategory.Brands}"
                 SelectedItem="{Binding CurrentCategory.CurrentBrand}"
                 ItemTemplate="{StaticResource ListBoxItemTemplate}"/>
        
        <ListBox Grid.Column="2"
                 Grid.Row="1"
                 ItemsSource="{Binding CurrentCategory.CurrentBrand.Products}"
                 SelectedItem="{Binding CurrentCategory.CurrentBrand.CurrentProduct}"
                 ItemTemplate="{StaticResource ListBoxItemTemplate}"/>
    </Grid>
</Window>
